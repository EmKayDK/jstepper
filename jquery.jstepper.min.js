// jStepper 1.3.2
function AddOrSubtractTwoFloats(e,n,t){var l=e.toString(),a=n.toString(),i="";if(l.indexOf(".")>-1||a.indexOf(".")>-1){-1==l.indexOf(".")&&(l+=".0"),-1==a.indexOf(".")&&(a+=".0");for(var r=l.substr(l.indexOf(".")+1),u=a.substr(a.indexOf(".")+1),m=l.substr(0,l.indexOf(".")),s=a.substr(0,a.indexOf(".")),o=!0;o;)r.length!=u.length?r.length<u.length?r+="0":u+="0":o=!1;for(var f=r.length,c=0;c<=r.length-1;c++)m+=r.substr(c,1),s+=u.substr(c,1);var d,h=Number(m),x=Number(s);d=t?h+x:h-x,i=d.toString();for(var g=0;g<f-i.length+1;g++)i="0"+i;i.length>=f&&(i=i.substring(0,i.length-f)+"."+i.substring(i.length-f))}else i=t?Number(e)+Number(n):Number(e)-Number(n);return Number(i)}!function(e){function n(n,t){var l=e(t),a=l.val(),i=a;n.disableNonNumeric&&(a=a.replace(/[^\d\.,\-]/gi,"")),null!==n.maxValue&&a>=n.maxValue&&(a=n.maxValue),null!==n.minValue&&a<n.minValue&&""!=a&&(a=n.minValue),i!=a&&l.val(a)}function t(t,l,a,i){var r,u=e(i);r=a?a.ctrlKey?t.ctrlStep:a.shiftKey?t.shiftStep:t.normalStep:t.normalStep;var m=u.val(),s=m.length-i.selectionStart,o=m.length-i.selectionEnd;m=m.replace(/,/g,"."),m=m.replace(t.decimalSeparator,"."),m+="",-1!=m.indexOf(".")&&(m=m.match(new RegExp("-{0,1}[0-9]+[\\.][0-9]*"))),m+="",-1!=m.indexOf("-")&&(m=m.match(new RegExp("-{0,1}[0-9]+[\\.]*[0-9]*"))),m+="",m=m.match(new RegExp("-{0,1}[0-9]+[\\.]*[0-9]*")),(""===m||"-"==m||null===m)&&(m=t.defaultValue),m=1==l?AddOrSubtractTwoFloats(m,r,!0):AddOrSubtractTwoFloats(m,r,!1);var f=!1;if(null!==t.maxValue&&m>=t.maxValue&&(m=t.maxValue,f=!0),null!==t.minValue&&m<=t.minValue&&(m=t.minValue,f=!0),m+="",null!==t.minLength){var c=m.length;-1!=m.indexOf(".")&&(c=m.indexOf("."));var d=!1;if(-1!=m.indexOf("-")&&(d=!0,m=m.replace(/-/,"")),c<t.minLength)for(var h=1;h<=t.minLength-c;h++)m="0"+m;d&&(m="-"+m)}m+="";var x;if(t.minDecimals>0){var g;-1!=m.indexOf(".")?(x=m.length-(m.indexOf(".")+1),x<t.minDecimals&&(g=t.minDecimals-x)):(g=t.minDecimals,m+=".");for(var p=1;g>=p;p++)m+="0"}return t.maxDecimals>0&&(x=0,-1!=m.indexOf(".")&&(x=m.length-(m.indexOf(".")+1),t.maxDecimals<x&&(m=m.substring(0,m.indexOf("."))+"."+m.substring(m.indexOf(".")+1,m.indexOf(".")+1+t.maxDecimals)))),t.allowDecimals||(m+="",m=m.replace(new RegExp("[\\.].+"),"")),m=m.replace(/\./,t.decimalSeparator),u.val(m),i.selectionStart=m.length-s,i.selectionEnd=m.length-o,n(t,i),t.onStep&&t.onStep(u,l,f),!1}e.fn.jStepper=function(l){var a=e.extend({},e.fn.jStepper.defaults,l);return this.each(function(){var l=e(this),i=e.meta?e.extend({},a,l.data()):a;i.disableAutocomplete&&l.attr("autocomplete","off"),e.isFunction(l.mousewheel)&&l.mousewheel(function(e,n){return n>0?(t(i,1,e,this),!1):0>n?(t(i,0,e,this),!1):void 0}),l.keydown(function(e){var n=e.keyCode;38==n&&t(i,1,e,this),40==n&&t(i,0,e,this)}),l.keyup(function(){n(i,this)})})},e.fn.jStepper.defaults={maxValue:null,minValue:null,normalStep:1,shiftStep:5,ctrlStep:10,minLength:null,disableAutocomplete:!0,defaultValue:1,decimalSeparator:",",allowDecimals:!0,minDecimals:0,maxDecimals:null,disableNonNumeric:!0,onStep:null}}(jQuery);